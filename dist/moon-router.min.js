/**
 * Moon Router v0.1.1
 * Copyright 2016-2017 Kabir Shah
 * Released under the MIT License
 * https://github.com/KingPixil/moon-router
 */
!function(t,n){"object"==typeof module&&module.exports?module.exports=n():t.MoonRouter=n()}(this,function(){function t(r){this.instance=null,this.default=r.default||"/",this.map=o(r.map)||{};var i=window.location.hash.slice(1);this.current={path:i||"/",component:null},i!==this.current.path&&(window.location.hash=this.current.path),this.route={};var e=this;t.Moon.component("router-view",{functional:!0,render:function(t){return t(e.current.component,{attrs:{route:e.route}},{shouldRender:!0},[])}}),t.Moon.component("router-link",{functional:!0,render:function(t,n){var o=n.data;return o.href="#"+o.to,delete o.to,t("a",{attrs:o},{shouldRender:!0},n.slots.default)}}),window.onhashchange=function(){n(e,window.location.hash.slice(1)||window.location.pathname)},n(this,this.current.path)}var n=function(t,o){for(var r=o.slice(1).split("/"),i=t.map,e={query:{},params:{}},a=0;a<r.length;a++){var u=r[a];if(u.indexOf("?")!==-1){var s=u.split("?");u=s.shift();for(var l=0;l<s.length;l++){var h=s[l].split("=");e.query[h[0]]=h[1]}}if(void 0===i[u]&&(i["*"]?u="*":i[":"]&&(e.params[i[":"].name]=u,u=":")),i=i[u],void 0===i)return n(t,t.default),!1}return void 0===i["@"]?(n(t,t.default),!1):(t.current={path:o,component:i["@"]},t.route=e,null!==t.instance&&t.instance.build(),!0)},o=function(t){var n={};for(var o in t){for(var r=n,i=o.slice(1).split("/"),e=0;e<i.length;e++){var a=i[e];if(":"===a[0]){var u={name:a.slice(1)};r[":"]=u,a=":"}void 0===r[a]&&(r[a]={}),r=r[a]}r["@"]=t[o]}return n};return t.prototype.install=function(t){this.instance=t},t.init=function(n){t.Moon=n;var o=n.prototype.init;n.prototype.init=function(){void 0!==this.$options.router&&(this.$router=this.$options.router,this.$router.install(this)),o.apply(this,arguments)}},t});