/**
 * Moon Router v0.1.3
 * Copyright 2016-2017 Kabir Shah
 * Released under the MIT License
 * https://github.com/KingPixil/moon-router
 */
!function(t,n){"object"==typeof module&&module.exports?module.exports=n():t.MoonRouter=n()}(this,function(){function t(t){this.instance=null,a(this,"base",t.base,""),a(this,"default",t.default,"/");var e=t.map;void 0===e?this.map={}:this.map=u(e),this.route={},a(this,"activeClass",t.activeClass,"router-link-active"),l(this,n),s(this,t.mode)}var n=null,e="*",i="?",o=":",r="@",a=function(t,n,e,i){void 0===e?t[n]=i:t[n]=e},s=function(t,n){var e=null,i=null,o=null;void 0===n?(e=function(){var t=window.location.hash.slice(1);return 0===t.length&&(t="/"),t},i=function(n){window.location.hash=n,c(t,n)},window.addEventListener("hashchange",function(){t.navigate(t.getPath())})):"history"===n&&(e=function(){var n=window.location.pathname.substring(t.base.length);return 0===n.length&&(n="/"),n},i=function(n){history.pushState(null,null,t.base+n),c(t,n)},o=function(n){t.navigate(n)});var r=e();t.current={path:r,component:null},t.getPath=e,t.navigate=i,t.listener=o,i(r)},l=function(t,n){n.component("router-view",{functional:!0,render:function(n){return n(t.current.component,{attrs:{route:t.route}},{shouldRender:!0},[])}}),n.component("router-link",{functional:!0,render:function(n,e){var i=e.data,o=i.to,r={shouldRender:!0,eventListeners:{}};return null!==t.listener?(i.href=t.base+o,r.eventListeners.click=[function(n){n.preventDefault(),t.listener(o)}]):i.href="#"+o,delete i.to,o===t.current.path&&(void 0===i.class?i.class=t.activeClass:i.class+=" "+t.activeClass),n("a",{attrs:i},r,e.slots.default)}})},u=function(t){var n={};for(var e in t){for(var i=n,r=e.slice(1).split("/"),a=0;a<r.length;a++){var s=r[a];if(":"===s[0]){var l=i[o];void 0===l?i[o]={name:s.slice(1)}:l.name=s.slice(1),i=i[o]}else void 0===i[s]&&(i[s]={}),i=i[s]}i["@"]=t[e]}return n},c=function(t,n){for(var a=n.slice(1).split("/"),s=t.map,l={query:{},params:{}},u=0;u<a.length;u++){var h=a[u];if(h.indexOf(i)!==-1){var v=h.split(i);h=v.shift();for(var f=0;f<v.length;f++){var d=v[f].split("=");l.query[d[0]]=d[1]}}if(void 0===s[h]){var p=null;void 0!==s[e]?h=e:void 0!==(p=s[o])&&(l.params[p.name]=h,h=o)}if(s=s[h],void 0===s)return c(t,t.default),!1}return void 0===s[r]?(c(t,t.default),!1):(t.current={path:n,component:s[r]},t.route=l,null!==t.instance&&t.instance.build(),!0)};return t.prototype.install=function(t){this.instance=t},t.init=function(t){n=t;var e=n.prototype.init;n.prototype.init=function(){void 0!==this.$options.router&&(this.$router=this.$options.router,this.$router.install(this)),e.apply(this,arguments)}},t});