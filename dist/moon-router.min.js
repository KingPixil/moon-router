/*
* Moon Router v0.0.4
* Copyright 2016-2017, Kabir Shah
* https://github.com/KingPixil/moon-router/
* Free to use under the MIT license.
* https://kingpixil.github.io/license
*/
!function(t,n){"object"==typeof module&&module.exports?module.exports=n():t.MoonRouter=n()}(this,function(){function t(e){this.instance=null,this.default=e.default||"/",this.map=o(e.map)||{};var r=window.location.hash.slice(1);this.current={path:r||"/",component:null},r!==this.current.path&&(window.location.hash=this.current.path),this.route={};var i=this;t.Moon.component("router-view",{functional:!0,render:function(t){return t(i.current.component,{attrs:{route:i.route}},{shouldRender:!0,eventListeners:{}},[])}}),t.Moon.component("router-link",{functional:!0,props:["to"],render:function(t,n){return t("a",{attrs:{href:"#"+n.data.to}},{shouldRender:!0,eventListeners:{}},n.slots.default)}}),window.onhashchange=function(){n(i,window.location.hash.slice(1)||window.location.pathname)},n(this,this.current.path)}var n=function(t,o){for(var e=o.slice(1).split("/"),r=t.map,i={query:{},params:{}},a=0;a<e.length;a++){var s=e[a];if(s.indexOf("?")!==-1){var u=s.split("?");s=u.shift();for(var h=0;h<u.length;h++){var l=u[h].split("=");i.query[l[0]]=l[1]}}if(void 0===r[s]&&(r["*"]?s="*":r[":"]&&(i.params[r[":"].name]=s,s=":")),r=r[s],!r)return n(t,t.default),!1}return r["@"]?(t.current={path:o,component:r["@"]},t.route=i,t.instance&&t.instance.build(),!0):(n(t,t.default),!1)},o=function(t){var n={};for(var o in t){for(var e=n,r=o.slice(1).split("/"),i=0;i<r.length;i++){var a=r[i];if(":"===a[0]){var s={name:a.slice(1)};e[":"]=s,a=":"}void 0===e[a]&&(e[a]={}),e=e[a]}e["@"]=t[o]}return n};return t.prototype.install=function(t){this.instance=t},t.init=function(n){t.Moon=n;var o=n.prototype.init;n.prototype.init=function(){this.$opts.router&&(this.$router=this.$opts.router,this.$router.install(this)),o.apply(this,arguments)}},t});